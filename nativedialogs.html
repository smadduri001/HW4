<!DOCTYPE html>
<html lang="EN">
    <head>
        <title>Native Dialogs</title>
        <meta charset="utf-8">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/dompurify/3.0.1/purify.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/dompurify/3.0.1/purify.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/dompurify/3.0.1/purify.js.map"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/dompurify/3.0.1/purify.min.js.map"></script>
    </head>
    <body>
        <h1>Simple Dialogs?</h1>
        <button id="alert">Alert</button>
        <button id = "confirm">Confirm</button>
        <button id = "prompt">Prompt</button>
        <button id = "saferPrompt">Safer Prompt</button>
        <output id="output"></output>

        <script>
            window.addEventListener('DOMContentLoaded', init);

            let prompta = document.getElementById("prompt");
            let saferPrompt = document.getElementById("saferPrompt");
            let output = document.getElementById("output");

            function init() {
                let alert = document.getElementById("alert");
                let confirm = document.getElementById("confirm");

                alert.addEventListener("click", function() {
                    window.alert("Alert pressed!");
                });

                confirm.addEventListener("click", function() {
                    let permission = window.confirm("Do you confirm this?");
                    output.innerHTML = `The value returned by the confirm method is : ${permission}`;
                });
            }

            prompta.addEventListener("click", function() {
                let userInput = window.prompt("What is your name?");
                if(userInput === null) {
                    output.textContent = `User didn't enter anything`;
                }
                else {
                    output.innerHTML = `Prompt result: ${userInput}`;
                }
            });

            saferPrompt.addEventListener("click", function() {
                let safeUserInput = window.prompt("What is your name?");
                if(safeUserInput === null) {
                    output.textContent = `User didn't enter anything`;
                }
                else {
                    let purified = DOMPurify.sanitize(safeUserInput);
                    output.innerHTML = `Prompt result: ${purified}`;
                }
            });
        </script>
    </body>
</html>